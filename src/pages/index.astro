---
import PageLayout from "@layouts/PageLayout.astro";
import {
  ProfileHero as ProfileHeroSection,
  ProfileAbout as ProfileAboutSection,
  ProfileInterests as ProfileInterestsSection,
  profileHero,
  profileAbout,
  profileInterests,
} from "@modules/profile";
import { ProjectGrid, fetchProjects } from "@modules/projects";
import { EventList, fetchEvents } from "@modules/events";

const [projects, events] = await Promise.all([
  fetchProjects(),
  fetchEvents(),
]);

// Limit items for homepage
const featuredProjects = projects.slice(0, 3);
const recentEvents = events.slice(0, 3);
---

<PageLayout
  title="Jhoselin Quispe Luque | Estudiante de Ingeniería Industrial"
  description="Portafolio académico de Jhoselin Quispe Luque. Estudiante de Ingeniería Industrial en la Universidad Continental - Cusco, enfocada en mejora de procesos y análisis de datos."
>
  <!-- Hero Section -->
  <ProfileHeroSection hero={profileHero} />

  <!-- About Section -->
  <ProfileAboutSection content={profileAbout} />

  <!-- Interests/Services Section - naisser.com style -->
  <ProfileInterestsSection interests={profileInterests} />

  <!-- Featured Projects -->
  <section class="py-16 md:py-20 lg:py-24 bg-background">
    <div class="container-custom">
      <div class="text-center mb-10 md:mb-12">
        <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-foreground uppercase tracking-wide mb-4">
          MIS PROYECTOS
        </h2>

        <!-- Decorative separator like naisser.com -->
        <div class="flex items-center justify-center gap-2 mb-4">
          <span class="w-8 h-0.5 bg-primary"></span>
          <svg class="w-5 h-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3" />
            <circle cx="12" cy="12" r="8" stroke-dasharray="4 4" />
          </svg>
          <span class="w-8 h-0.5 bg-primary"></span>
        </div>

        <p class="text-muted-foreground max-w-2xl mx-auto text-sm sm:text-base">
          Proyectos desarrollados durante mi formación en Ingeniería Industrial, aplicando metodologías y herramientas de mejora continua.
        </p>
      </div>
    </div>
    <ProjectGrid projects={featuredProjects} limit={3} showTitle={false} />

    <div class="container-custom mt-10 text-center">
      <a href="/projects" class="inline-flex items-center justify-center gap-2 px-6 py-2.5 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors">
        Ver todos los proyectos
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </section>

  <!-- Events Section -->
  {recentEvents.length > 0 && (
    <section class="py-16 md:py-20 lg:py-24 bg-secondary/30">
      <div class="container-custom">
        <div class="text-center mb-10 md:mb-12">
          <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-foreground uppercase tracking-wide mb-4">
            EVENTOS Y CAPACITACIONES
          </h2>

          <!-- Decorative separator like naisser.com -->
          <div class="flex items-center justify-center gap-2 mb-4">
            <span class="w-8 h-0.5 bg-primary"></span>
            <svg class="w-5 h-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3" />
              <circle cx="12" cy="12" r="8" stroke-dasharray="4 4" />
            </svg>
            <span class="w-8 h-0.5 bg-primary"></span>
          </div>

          <p class="text-muted-foreground max-w-2xl mx-auto text-sm sm:text-base">
            Congresos, talleres y seminarios que complementan mi formación académica.
          </p>
        </div>
      </div>
      <EventList events={recentEvents} limit={3} showTitle={false} />

      <div class="container-custom mt-10 text-center">
        <a href="/events" class="inline-flex items-center justify-center gap-2 px-6 py-2.5 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors">
          Ver todos los eventos
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
      </div>
    </section>
  )}

  <!-- CTA Section - naisser.com style -->
  <section class="py-16 md:py-20 lg:py-24 bg-slate-800 dark:bg-slate-900">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto text-center">
        <h2 class="text-xl sm:text-2xl md:text-3xl font-bold text-white uppercase tracking-wide mb-4">
          CONTACTO
        </h2>

        <!-- Decorative separator -->
        <div class="flex items-center justify-center gap-2 mb-4">
          <span class="w-8 h-0.5 bg-primary"></span>
          <svg class="w-5 h-5 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3" />
            <circle cx="12" cy="12" r="8" stroke-dasharray="4 4" />
          </svg>
          <span class="w-8 h-0.5 bg-primary"></span>
        </div>

        <p class="text-white/80 text-sm sm:text-base mb-8 max-w-xl mx-auto">
          Estoy abierta a oportunidades de prácticas pre-profesionales, proyectos colaborativos y nuevos retos en el área de Ingeniería Industrial.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="/contact" class="inline-flex items-center justify-center gap-2 px-6 py-2.5 bg-primary text-white rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors">
            Contáctame
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </a>
          <a href="/about" class="inline-flex items-center justify-center gap-2 px-6 py-2.5 border-2 border-white text-white rounded-lg text-sm font-medium hover:bg-white hover:text-slate-800 transition-colors">
            Conocer más
          </a>
        </div>
      </div>
    </div>
  </section>
</PageLayout>
